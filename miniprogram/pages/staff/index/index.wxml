<!-- å‘˜å·¥ç«¯ - ä¸»é¡µ -->
<view class="page">
  <!-- å…¨å±€é›ªèŠ±æ•ˆæœ -->
  <global-snow></global-snow>

  <!-- é¡¶éƒ¨å¯¼èˆª -->
  <view class="header">
    <view class="header-bg">
      <view class="header-blur"></view>
      <view class="header-shine"></view>
    </view>
    <view class="header-content">
      <view class="header-title">
        <text class="title-text">ğŸ„ sonneté™ªç©åº—</text>
        <text class="title-subtitle">Merry Christmas</text>
      </view>
      <view class="header-actions">
        <view class="icon-btn notification-btn">
          <text class="bell-icon">ğŸ””</text>
          <view class="notification-dot" wx:if="{{false}}"></view>
        </view>
      </view>
    </view>
    <!-- åœ£è¯è£…é¥° -->
    <view class="christmas-decoration">
      <text class="snowflake">â„ï¸</text>
      <text class="christmas-light light-1">ğŸ„</text>
      <text class="christmas-light light-2">ğŸ…</text>
    </view>
  </view>

  <scroll-view scroll-y="{{true}}" class="scroll-content">
    <!-- è½®æ’­å›¾ -->
    <view class="banner-section" wx:if="{{banners.length > 0}}">
      <view class="section-container">
        <swiper class="banner-swiper"
                indicator-dots
                indicator-color="rgba(255,255,255,0.3)"
                indicator-active-color="#ffffff"
                autoplay
                circular
                interval="4000"
                duration="800">
          <swiper-item wx:for="{{banners}}" wx:key="_id">
            <view class="banner-item">
              <view class="banner-bg">
                <image wx:if="{{item.images && item.images.length > 0}}"
                       src="{{item.images[0]}}"
                       mode="aspectFill"
                       class="banner-bg-image" />
                <view wx:else class="banner-bg-gradient banner-gradient-christmas"></view>
                <view class="banner-overlay"></view>
                <!-- åœ£è¯è£…é¥°å…ƒç´  -->
                <view class="christmas-elements">
                  <text class="christmas-star">â­</text>
                  <text class="christmas-snow snow-1">â„ï¸</text>
                  <text class="christmas-snow snow-2">â„ï¸</text>
                  <text class="christmas-snow snow-3">â„ï¸</text>
                </view>
              </view>
              <view class="banner-glass">
                <view class="banner-content">
                  <view class="banner-title">{{item.title}}</view>
                  <view class="banner-desc" wx:if="{{item.content}}">{{item.content}}</view>
                  <view class="banner-tag">ğŸ„ åœ£è¯ç‰¹æƒ </view>
                </view>
              </view>
            </view>
          </swiper-item>
        </swiper>
      </view>
    </view>

    <!-- é»˜è®¤è½®æ’­å›¾ï¼ˆå¦‚æœæ²¡æœ‰è®¾ç½®è½®æ’­å›¾ï¼‰ -->
    <view class="banner-section" wx:elif="{{banners.length === 0}}">
      <view class="section-container">
        <swiper class="banner-swiper"
                indicator-dots
                indicator-color="rgba(255,255,255,0.3)"
                indicator-active-color="#ffffff"
                autoplay
                circular
                interval="4000"
                duration="800">
          <swiper-item>
            <view class="banner-item">
              <view class="banner-bg">
                <view class="banner-bg-gradient banner-gradient-christmas"></view>
                <view class="banner-overlay"></view>
                <view class="christmas-elements">
                  <text class="christmas-tree">ğŸ„</text>
                  <text class="christmas-gift">ğŸ</text>
                  <text class="christmas-snow snow-1">â„ï¸</text>
                </view>
              </view>
              <view class="banner-glass">
                <view class="banner-content">
                  <view class="banner-title">ğŸ„ Merry Christmas</view>
                  <view class="banner-desc">ç²¾å½©æ´»åŠ¨å³å°†ä¸Šçº¿</view>
                  <view class="banner-tag">âœ¨ èŠ‚æ—¥å¿«ä¹</view>
                </view>
              </view>
            </view>
          </swiper-item>
          <swiper-item>
            <view class="banner-item">
              <view class="banner-bg">
                <view class="banner-bg-gradient banner-gradient-warm"></view>
                <view class="banner-overlay"></view>
                <view class="christmas-elements">
                  <text class="christmas-santa">ğŸ…</text>
                  <text class="christmas-cookie">ğŸª</text>
                  <text class="christmas-snow snow-2">â„ï¸</text>
                </view>
              </view>
              <view class="banner-glass">
                <view class="banner-content">
                  <view class="banner-title">âœ¨ æ–°äººæ¨è</view>
                  <view class="banner-desc">æŸ¥çœ‹ä»Šæ—¥æ¨èå‘˜å·¥</view>
                  <view class="banner-tag">ğŸ”¥ çƒ­é—¨æ¨è</view>
                </view>
              </view>
            </view>
          </swiper-item>
          <swiper-item>
            <view class="banner-item">
              <view class="banner-bg">
                <view class="banner-bg-gradient banner-gradient-festive"></view>
                <view class="banner-overlay"></view>
                <view class="christmas-elements">
                  <text class="christmas-bell">ğŸ””</text>
                  <text class="christmas-candle">ğŸ•¯ï¸</text>
                  <text class="christmas-snow snow-3">â„ï¸</text>
                </view>
              </view>
              <view class="banner-glass">
                <view class="banner-content">
                  <view class="banner-title">ğŸ‰ ç²¾å½©æ´»åŠ¨</view>
                  <view class="banner-desc">æ›´å¤šæƒŠå–œç­‰ä½ å‘ç°</view>
                  <view class="banner-tag">ğŸŠ èŠ‚æ—¥ç‰¹æƒ </view>
                </view>
              </view>
            </view>
          </swiper-item>
        </swiper>
      </view>
    </view>

    <!-- å…¬ç¤ºä¿¡æ¯ -->
    <view class="notice-section">
      <view class="section-container">
        <view class="glass-card notice-card" wx:if="{{notices.length > 0}}">
          <view class="card-blur"></view>
          <view class="card-shine"></view>
          <view class="notice-header">
            <view class="notice-icon-wrapper">
              <text class="notice-icon">ğŸ””</text>
              <text class="notice-sparkle">âœ¨</text>
            </view>
            <view class="notice-content-wrapper">
              <text class="notice-title">{{notices[0].title}}</text>
              <text class="notice-time">{{notices[0].createTime}}</text>
            </view>
          </view>
          <view class="notice-body">
            <text class="notice-content">{{notices[0].content}}</text>
          </view>
          <view class="card-decoration">
            <text class="decoration-star">â­</text>
          </view>
        </view>

        <!-- é»˜è®¤å…¬å‘Šï¼ˆå¦‚æœæ²¡æœ‰è®¾ç½®å…¬å‘Šï¼‰ -->
        <view class="glass-card notice-card" wx:elif="{{notices.length === 0}}">
          <view class="card-blur"></view>
          <view class="card-shine"></view>
          <view class="notice-header">
            <view class="notice-icon-wrapper">
              <text class="notice-icon">ğŸ„</text>
              <text class="notice-sparkle">â„ï¸</text>
            </view>
            <view class="notice-content-wrapper">
              <text class="notice-title">èŠ‚æ—¥å…¬å‘Š</text>
              <text class="notice-time">ä»Šå¤©</text>
            </view>
          </view>
          <view class="notice-body">
            <text class="notice-content">ğŸ… åœ£è¯å¿«ä¹ï¼ä»Šæ—¥æ¨èå‘˜å·¥å·²æ›´æ–°ï¼Œå¿«å»çœ‹çœ‹å§ï¼</text>
          </view>
          <view class="card-decoration">
            <text class="decoration-tree">ğŸ„</text>
          </view>
        </view>
      </view>
    </view>

    <!-- å¡ç±»é›†åˆ -->
    <view class="gallery-section" wx:if="{{galleryList.length > 0}}">
      <view class="section-header">
        <text class="section-title">ç›¸å†Œç²¾é€‰</text>
        <view class="section-more">
          <text>æ›´å¤š</text>
          <text class="arrow-icon">â€º</text>
        </view>
      </view>

      <view class="gallery-grid">
        <view class="gallery-item" wx:for="{{galleryList}}" wx:key="_id" data-gallery="{{item}}" bindtap="viewGallery">
          <view class="gallery-cover">
            <image wx:if="{{item.images && item.images.length > 0}}"
                   src="{{item.images[0]}}"
                   mode="aspectFill"
                   class="gallery-image" />
            <view wx:else class="gallery-placeholder" style="background: linear-gradient(135deg, #93c5fd, #67e8f9);">
              <text class="gallery-emoji">ğŸ“¸</text>
            </view>
          </view>
          <view class="gallery-name">{{item.title}}</view>
        </view>
      </view>
    </view>

    <!-- é»˜è®¤ç›¸å†Œï¼ˆå¦‚æœæ²¡æœ‰è®¾ç½®ç›¸å†Œï¼‰ -->
    <view class="gallery-section" wx:elif="{{galleryList.length === 0}}">
      <view class="section-header">
        <text class="section-title">ç›¸å†Œç²¾é€‰</text>
        <view class="section-more">
          <text>æ›´å¤š</text>
          <text class="arrow-icon">â€º</text>
        </view>
      </view>

      <view class="gallery-grid">
        <view class="gallery-item" wx:for="{{[{id:1,name:'ç²¾å½©ç¬é—´',emoji:'ğŸŒ¸',color1:'#86efac',color2:'#5eead4'},{id:2,name:'æ¸¸æˆæ—¶åˆ»',emoji:'ğŸ®',color1:'#93c5fd',color2:'#67e8f9'},{id:3,name:'ç¾å¥½å›å¿†',emoji:'âœ¨',color1:'#fb7185',color2:'#f472b6'}]}}" wx:key="id">
          <view class="gallery-cover" style="background: linear-gradient(135deg, {{item.color1}}, {{item.color2}});">
            <text class="gallery-emoji">{{item.emoji}}</text>
          </view>
          <view class="gallery-name">{{item.name}}</view>
        </view>
      </view>
    </view>

    <view class="bottom-spacer"></view>
  </scroll-view>

  <!-- è‡ªå®šä¹‰TabBar -->
  <custom-tab-bar />
</view>
