<!-- è€æ¿ç«¯ - æˆ‘çš„è®¢å• -->
<view class="page">
  <!-- è®¢å•åˆ—è¡¨ -->
  <view class="order-list" wx:if="{{!loading}}">
    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-state" wx:if="{{orders.length === 0}}">
      <view class="empty-icon">ğŸ“‹</view>
      <view class="empty-text">æš‚æ— è®¢å•è®°å½•</view>
      <view class="empty-desc">å‘˜å·¥åˆ›å»ºçš„è®¢å•å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ</view>
    </view>

    <!-- è®¢å•é¡¹ -->
    <view class="order-item" wx:for="{{orders}}" wx:key="_id">
      <view class="order-header">
        <view class="staff-info">
          <view class="staff-avatar">ğŸ®</view>
          <view class="staff-details">
            <text class="staff-name">{{item.staffInfo.nickname}}</text>
            <text class="staff-id">ID: {{item.staffInfo.userId}}</text>
          </view>
        </view>
        <view class="order-status {{getStatusClass(item.status)}}">
          {{getStatusText(item.status)}}
        </view>
      </view>

      <view class="order-content">
        <view class="order-info">
          <view class="info-row">
            <text class="info-label">æ¸¸æˆ:</text>
            <text class="info-value">{{item.game}}</text>
          </view>
          <view class="info-row">
            <text class="info-label">æ—¶é•¿:</text>
            <text class="info-value">{{item.duration}}å°æ—¶</text>
          </view>
          <view class="info-row">
            <text class="info-label">æ—¥æœŸ:</text>
            <text class="info-value">{{item.date}}</text>
          </view>
          <view class="info-row" wx:if="{{item.position}}">
            <text class="info-label">ä½ç½®:</text>
            <text class="info-value">{{item.position}}</text>
          </view>
          <view class="info-row" wx:if="{{item.services && item.services.length > 0}}">
            <text class="info-label">æœåŠ¡:</text>
            <text class="info-value">{{item.services && item.services.length > 0 ? item.services[0] + (item.services.length > 1 ? 'ç­‰' + item.services.length + 'é¡¹' : '') : ''}}</text>
          </view>
          <view class="info-row" wx:if="{{item.remark}}">
            <text class="info-label">å¤‡æ³¨:</text>
            <text class="info-value">{{item.remark}}</text>
          </view>
        </view>
      </view>

      <view class="order-time">
        <text>{{item.createTime}}</text>
      </view>

      <!-- æ“ä½œæŒ‰é’® -->
      <view class="order-actions" wx:if="{{item.status === 'pending'}}">
        <button class="action-btn reject-btn"
                data-order-id="{{item._id}}"
                data-action="reject"
                bindtap="onOrderAction">
          æ‹’ç»
        </button>
        <button class="action-btn confirm-btn"
                data-order-id="{{item._id}}"
                data-action="confirm"
                bindtap="onOrderAction">
          ç¡®è®¤
        </button>
      </view>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading-state" wx:if="{{loading}}">
    <view class="loading-text">åŠ è½½ä¸­...</view>
  </view>
</view>