<!-- è€æ¿ç«¯ - æˆ‘çš„ -->
<view class="page">
  <!-- è®¾ç½®æŒ‰é’® -->
  <view class="settings-btn">âš™ï¸</view>

  <!-- åˆ·æ–°æŒ‰é’® -->
  <view class="refresh-btn" bindtap="onRefresh">ğŸ”„</view>

  <!-- é«˜çº§è®¾è®¡æ„Ÿè£…é¥°å…ƒç´  -->
  <view class="profile-decoration">
    <view class="profile-sparkle-1">âœ¦</view>
    <view class="profile-sparkle-2">âœ¦</view>
    <view class="profile-dot-1"></view>
    <view class="profile-dot-2"></view>
  </view>

  <scroll-view scroll-y="{{true}}" class="scroll-content">
    <!-- é¡¶éƒ¨ç”¨æˆ·ä¿¡æ¯åŒºåŸŸ -->
    <view class="user-header-section">
      <view class="user-avatar-container" wx:if="{{!loading}}">
        <view class="user-avatar">
          <image wx:if="{{userInfo.avatar}}" src="{{userInfo.avatar}}" mode="aspectFill" class="avatar-image" />
          <text wx:else>ğŸ‘‘</text>
        </view>
      </view>
      <view class="user-info-container" wx:if="{{!loading}}">
        <view class="user-name-row">
          <text class="user-name">{{userInfo.nickname || 'æœªè®¾ç½®æ˜µç§°'}}</text>
          <view class="vip-badge" wx:if="{{userInfo.vipLevel}}">{{userInfo.vipLevel}}</view>
        </view>
        <text class="user-id">ID: {{userInfo.userId || 'æœªè®¾ç½®'}}</text>
      </view>
    </view>
    <!-- é’±åŒ…ä¿¡æ¯ -->
    <view class="wallet-info-card" wx:if="{{!loading}}">
      <view class="wallet-info">
        <view class="wallet-content">
          <text class="wallet-icon">ğŸ’°</text>
          <view class="wallet-details">
            <view class="wallet-title">é’±åŒ…ä½™é¢</view>
            <view class="wallet-balance">Â¥{{walletInfo.balance}}</view>
          </view>
        </view>
      </view>
    </view>

    <!-- VIP ä¿¡æ¯ -->
    <view class="vip-info-card" wx:if="{{!loading}}" bindtap="onVipTap">
      <view class="vip-info">
        <view class="vip-content">
          <text class="vip-icon">ğŸ’</text>
          <view class="vip-details">
            <view class="vip-title">å°Šè´µVIPä¼šå‘˜</view>
            <view class="vip-desc">æ¶ˆè´¹æ€»é¢ï¼šÂ¥{{totalConsumption}}</view>
          </view>
        </view>
        <text class="arrow">â€º</text>
      </view>
    </view>


    <!-- æˆ‘çš„ç›´å±å‘˜å·¥ -->
    <view class="staff-section surface">
      <view class="section-header">
        <text class="section-title">æˆ‘çš„ç›´å±å‘˜å·¥</text>
        <text class="section-more">æŸ¥çœ‹å…¨éƒ¨</text>
      </view>
      <scroll-view scroll-x="{{true}}" class="staff-scroll">
        <view class="staff-item" wx:for="{{myStaffs}}" wx:key="_openid">
          <view class="staff-avatar-small">
            <image wx:if="{{item.avatar}}" src="{{item.avatar}}" mode="aspectFill" class="avatar-image-small" />
            <text wx:else class="staff-emoji-small">ğŸ‘¤</text>
          </view>
          <text class="staff-name-small">{{item.nickname}}</text>
        </view>
      </scroll-view>
    </view>

    <!-- ä¸»çº¿æ•…äº‹ -->
    <view class="story-section surface" wx:if="{{!loading}}">
      <view class="section-header">
        <text class="section-title">ğŸ“– ä¸»çº¿æ•…äº‹</text>
      </view>
      <view class="story-content">
        <view class="story-text">{{storyContent}}</view>
        <view class="story-level">å½“å‰ç­‰çº§ï¼š{{currentLevelName}}</view>
      </view>
    </view>

    <!-- èœå•åˆ—è¡¨ -->
    <view class="menu-section surface">
      <view class="menu-item" wx:for="{{menuList}}" wx:key="id" data-action="{{item.action}}" bindtap="onMenuTap">
        <view class="menu-icon" style="background: {{item.bgColor}};">
          <text class="icon-emoji">{{item.icon}}</text>
        </view>
        <view class="menu-info">
          <view class="menu-title">{{item.title}}</view>
          <view class="menu-desc">{{item.desc}}</view>
        </view>
        <text class="arrow">â€º</text>
      </view>
    </view>

    <view class="bottom-spacer"></view>
  </scroll-view>
</view>
