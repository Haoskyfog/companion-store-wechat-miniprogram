<!-- è€æ¿ç«¯ - å‘˜å·¥åˆ—è¡¨é¡µ -->
<view class="page">
  <!-- é¡¶éƒ¨å¯¼èˆª -->
  <view class="header">
    <view class="nav-back" bindtap="goBack">â†</view>
    <view class="header-title">å‘˜å·¥åˆ—è¡¨</view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading-state" wx:if="{{loading}}">
    <view class="loading-text">åŠ è½½ä¸­...</view>
  </view>

  <!-- å‘˜å·¥åˆ—è¡¨ -->
  <view class="staff-list" wx:else>
    <view class="staff-item" wx:for="{{staffList}}" wx:key="_openid" data-staff="{{item}}" bindtap="viewStaffDetail">
      <view class="staff-avatar">
        <image wx:if="{{item.avatar}}" src="{{item.avatar}}" mode="aspectFill" class="avatar-image" />
        <view wx:else class="avatar-placeholder">
          <text class="avatar-emoji">ğŸ‘§</text>
        </view>
      </view>

      <view class="staff-info">
        <view class="staff-header">
          <text class="staff-name">{{item.nickname}}</text>
          <view class="voice-badge" wx:if="{{item.voiceType}}">
            <text class="voice-text">{{item.voiceType === 'normal' ? 'æ™®é€šéŸ³è‰²' : item.voiceType === 'cute' ? 'å¯çˆ±éŸ³è‰²' : item.voiceType === 'cool' ? 'é…·ç‚«éŸ³è‰²' : 'æˆç†ŸéŸ³è‰²'}}</text>
          </view>
        </view>

        <text class="staff-id">ID: {{item.userId}}</text>

        <view class="staff-intro" wx:if="{{item.introduction}}">
          <text class="intro-text">{{item.introduction}}</text>
        </view>

        <view class="staff-actions">
          <button class="detail-btn">æŸ¥çœ‹è¯¦æƒ…</button>
          <button class="audio-btn" wx:if="{{item.audioUrl}}" data-audio="{{item.audioUrl}}" bindtap="playStaffAudio" catchtap>ğŸµ</button>
          <text class="no-audio" wx:else>æš‚æ— éŸ³é¢‘</text>
        </view>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{!loading && staffList.length === 0}}">
    <view class="empty-icon">ğŸ‘¥</view>
    <view class="empty-text">æš‚æ— å‘˜å·¥</view>
  </view>
</view>